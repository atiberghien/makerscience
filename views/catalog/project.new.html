<div class="admin">

    <div id="intro" class="intro-project-create">
        <h1>Créez une page</h1>
        <h2>pour votre projet</h2>
    </div><!-- #intro -->

    <div class="row container">

        <div class="col-md-12">

            <div id="content" class="new-project">

                <h2>Créer un projet</h2>
                <p>Ce formulaire vous permet de décrire en détails votre projet. Plus vous détaillerez, plus vous donnerez envie aux membres de s'investir dans votre projet et le relayer.</p>
                <p>Pour toute question <a href="">contacter l'équipe de Makerscience</a></p>



                <form name="newProjectForm"
                      novalidate
                      ng-controller="MakerScienceProjectSheetCreateCtrl"
                      ng-init="submitted=false"
                      ng-submit="saveMakerscienceProject(newProjectForm.$valid)"
                      ng-class="{ 'has-error' : newProjectForm.$invalid && submitted }">
                    <div class="row">
                        <div class="col-md-12">
                            <h3>Caractéristiques du projet</h3>
                            <fieldset class="fake-placeholder">
                                <label>Nom du projet <span class="required">*</span></label>
                                <input type="text"
                                       name="projectName"
                                       placeholder=">"
                                       ng-model="projectsheet.project.title"
                                       maxlength="50"
                                       required/>
                                <p ng-show="newProjectForm.projectName.$invalid && submitted" class="help-block">Nom du projet requis</p>

                                <label>Description courte <span class="required">*</span></label>
                                <input type="text"
                                            name="projectBaseline"
                                            placeholder=">"
                                            ng-model="projectsheet.project.baseline"
                                            maxlength="100"
                                            required/>
                                <p ng-show="newProjectForm.projectBaseline.$invalid && submitted" class="help-block">Courte description du projet requise</p>

                                <label>Thématiques <span class="required">*</span></label>
                                <input type="text"
                                    name="projectBaseline"
                                    placeholder=">"
                                    ng-model="projectsheet.project.baseline"
                                    maxlength="100"
                                    required/>
                           </fieldset>

                           <h3>Informations complémentaires</h3>
                           <fieldset class="fake-placeholder">
                               <label>État d'avancement</label>
                               <select ng-model="projectsheet.project.progress" ng-options="progress.value as progress.text for progress in progressRange">
                               </select>

                               <label><span class="glyphicon glyphicon-time"></span> Date de fin de projet</label>
                               <input type="text" ng-model="projectsheet.project.end_date" />
                               </select>

                               <label><span class="glyphicon glyphicon-map-marker"></span> Localisation : </label>
                               <input type="text" ng-model="projectsheet.project.location.address.address_locality" />
                               </select>

                               <label>Porteurs et partenaires</label>
                               <textarea ui-tinymce="tinyMceFullOptions"
                                           ng-trim="false"
                                           name="project-about"
                                           ng-model="projectsheet.project.description"
                                           rows="4">
                               </textarea>
                           </fieldset>
                           <!-- <fieldset class="fake-placeholder">
                               <div ng-controller="TagAutoCompleteCtrl">
                                   <label>Ajoutez des tags précisant aux mieux les thématiques abordées par votre projet (biologie, sport, art, histoire...)</label>
                                   <tags-input ng-model="themesTags"
                                               placeholder="> Mot-clé (ne pas utiliser de #, séparer par des virgules)">
                                     <auto-complete source="loadTags($query)" template="views/base/tag_autocomplete.html"></auto-complete>
                                   </tags-input>
                               </div>
                           </fieldset> -->

                          <h3>Médias</h3>
                          <fieldset class="addPhotosVideos">
                              <label ng-click="openGallery()">Ajouter des médias</label>
                              <button type="button" class="addPhotos" ng-click="openGallery()">
                                  <span class="glyphicon glyphicon-camera"></span>
                              </button>
                              <button type="button" class="addVideos" ng-click="openGallery()">
                                  <span class="glyphicon glyphicon-facetime-video"></span>
                              </button>

                              <label><span class="glyphicon glyphicon-globe"></span> Site web : </label>
                              <input type="text" ng-model="projectsheet.project.website" />
                              </select>
                          </fieldset>

                          <h3>Précisions sur le projet</h3>
                          <fieldset class="new-project">
                              <label>Description complète</label>
                              <textarea ui-tinymce="tinyMceFullOptions"
                                  ng-trim="false"
                                  name="project-about"
                                  ng-model="projectsheet.project.description"
                                  rows="4">
                              </textarea>

                              <label>Détails du projet</label>
                              <textarea ui-tinymce="tinyMceFullOptions"
                                  ng-trim="false"
                                  name="project-about"
                                  ng-model="projectsheet.project.description"
                                  rows="4">
                              </textarea>

                              <label>Éléments de réussite du projet</label>
                              <textarea ui-tinymce="tinyMceFullOptions"
                                  ng-trim="false"
                                  name="project-about"
                                  ng-model="projectsheet.project.description"
                                  rows="4">
                              </textarea>

                              <label>Reste à faire sur le projet</label>
                              <textarea ui-tinymce="tinyMceFullOptions"
                                  ng-trim="false"
                                  name="project-about"
                                  ng-model="projectsheet.project.description"
                                  rows="4">
                              </textarea>
                          </fieldset>

                          <h3>Contacts</h3>
                          <fieldset class="fake-placeholder">
                            <label><span class="glyphicon glyphicon-globe"></span> Site web</label>
                            <input type="text" ng-model="projectsheet.project.website" />
                            </select>

                              <label>Pour en savoir plus</label>
                              <textarea ui-tinymce="tinyMceFullOptions"
                                ng-trim="false"
                                name="question_{{$index}}"
                                ng-model="item.answer"
                                e-rows="4">
                              </textarea>
                          </fieldset>

                          <h3>Besoins</h3>
                          <fieldset class="needs needs-select">
                              <p>Créez une discussion précisant vos besoins (idées, matériel, financement, testeurs, relais…). Elle sera affichée sur votre projet et sur le forum de discussions.</p>
                              <div class="row">
                                  <div class="col-md-12">
                                      <input type="text" ng-model="newNeed.title" placeholder="J’ai besoin de ... pour le projet ..."/>
                                      <textarea ui-tinymce="tinyMceFullOptions"
                                        ng-trim="false"
                                        ng-model="newNeed.text"
                                        name="project-need"
                                        placeholder="Descrivez votre besoin le plus précisement possible."
                                        rows="3">
                                      </textarea>
                                      <br />
                                      <div class="need-keywords">
                                          <div ng-controller="TagAutoCompleteCtrl">
                                              <p>Précisez votre besoin grâce à des mots-clés :</p>
                                              <tags-input ng-model="questionTags"
                                                placeholder="> Mot-clé">
                                                <auto-complete source="loadTags($query)" template="views/base/tag_autocomplete.html"></auto-complete>
                                              </tags-input>
                                          </div>
                                      </div>
                                      <button type="button" class="button" ng-click="addNeed(newNeed);questionTags=null">Ajouter le besoin</button>
                                  </div>
                              </div>
                              <ul class="list-group">
                                  <li ng-repeat="(index, need) in needs">
                                      <div class="row">
                                        <div class="col-md-10">
                                          <p ng-bind-html="need.title"></p>
                                          <!-- <p ng-bind-html="need.description"></p> -->
                                        </div>
                                        <div class="col-md-2">
                                          <button class="btn btn-danger" ng-click="delNeed(index)"><span class="glyphicon glyphicon-trash"></span> Supprimer</button>
                                        </div>
                                      </div>
                                  </li>
                              </ul>
                          </fieldset>
                        </div>
                    </div><!-- .row -->

                    <p class="right" ng-hide="hideControls">
                        <button type="button" class="button cancel" ui-sref="project.list">Annuler</button>
                        <!-- FIXME : set up ctrler to allow 'save as draft'  -->
                        <!-- <button type="button" class="button">Enregistrer en brouillon</button>
                        <button type="button" class="button" ng-click="submitted=true">Publier</button>
                         -->
                        <button type="submit" class="button" ng-click="submitted=true;hideControls=true">Enregistrer</button>
                    </p>
                    <div class="progress" ng-show="hideControls">
                        <div ng-show="uploader.queue.length > 0" class="progress-bar" role="progressbar" ng-style="{ 'width': uploader.progress + '%' }" style="width: 0%;"></div>
                        <div ng-show="uploader.queue.length == 0" class="progress-bar" role="progressbar" ng-style="{ 'width': fake_progress + '%' }" style="width: 0%;"></div>
                    </div>
                </form>

            </div><!-- #content -->

        </div><!-- .row -->

    </div><!-- .row .container -->
</div>
