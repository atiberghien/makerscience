!function(){"use strict";var t=angular.module("sticky",[]);t.directive("sticky",["$window",function(t){return{restrict:"A",scope:{disabled:"=disabledSticky"},link:function(e,o,s){var n,i,c,r,a,f,l,d,p,u,m,h,g,k,y,v,w,S,b;e.initSticky=function(){switch(u=!1,w=t.matchMedia,f=angular.element(document.body),a=o[0],l=document.documentElement,n=s.mediaQuery||!1,i=s.stickyClass||"",c=s.unstickyClass||"",r=s.bodyClass||"",S=void 0!==s.useplaceholder,p=o.attr("style")||"",g="string"==typeof s.offset?parseInt(s.offset.replace(/px;?/,"")):0,k="string"==typeof s.anchor?s.anchor.toLowerCase().trim():"top",y="string"==typeof s.confine?s.confine.toLowerCase().trim():"false",y="true"===y,d={zIndex:o.css("z-index"),top:o.css("top"),width:o.css("width"),position:o.css("position"),marginTop:o.css("margin-top"),cssLeft:o.css("left")},k){case"top":case"bottom":break;default:k="top"}v=e.getTopOffset(a),angular.element(t).on("scroll",e.checkIfShouldStick),angular.element(t).on("resize",e.$apply.bind(e,e.onResize)),e.$on("$destroy",e.onDestroy)},e.getScrollTop=function(){if("undefined"!=typeof t.pageYOffset)return t.pageYOffset;var e=document.body,o=document.documentElement;return o=o.clientHeight?o:e,o.scrollTop},e.getTopOffset=function(t){if(t.getBoundingClientRect)return t.getBoundingClientRect().top+document.documentElement.scrollTop;var e=0;if(t.offsetParent)do e+=t.offsetTop,t=t.offsetParent;while(t);return e},e.getBottomOffset=function(t){return t.offsetTop+t.clientHeight},e.shouldStickWithLimit=function(e){if("true"===e){var o=a.offsetHeight,s=t.innerHeight;return s-(o+parseInt(g))<0}return!1},e.onResize=function(){if(d.offsetWidth=a.offsetWidth,e.unStickElement(),e.checkIfShouldStick(),u){var s=t.getComputedStyle(a.parentElement,null),n=a.parentElement.offsetWidth-s.getPropertyValue("padding-right").replace("px","")-s.getPropertyValue("padding-left").replace("px","");o.css("width",n+"px")}},e.onDestroy=function(){angular.element(t).off("scroll",e.checkIfShouldStick),angular.element(t).off("resize",e.onResize),r&&f.removeClass(r),b&&b.remove()},e.getClosest=function(t,e){var o,s=1e3;for(var n in t){var i=Math.abs(e-t[n]);s>i&&(s=i,o=t[n])}return o},e.stickElement=function(){if(d.offsetWidth=a.offsetWidth,u=!0,r&&f.addClass(r),c&&o.hasClass(c)&&o.removeClass(c),i&&o.addClass(i),S){b=angular.element("<div>");var t=o[0].offsetHeight;b.css("height",t+"px"),o.after(b)}o.css("z-index","10").css("width",a.offsetWidth+"px").css("position","fixed").css(k,g+"px").css("left",o.css("left").replace("px","")+"px").css("margin-top",0),"bottom"===k&&o.css("margin-bottom",0)},e.checkIfShouldStick=function(){if(e.disabled===!0)return e.unStickElement(),!1;var o,i,c,r;if(n&&!w("("+n+")").matches&&!w(n).matches)return void(u&&e.unStickElement());if("top"===k?(r=t.pageYOffset||l.scrollTop,o=r-(l.clientTop||0),i=y===!0?o>=m&&h>=o:o>=m):(c=t.pageYOffset+t.innerHeight,i=m>=c),!i||e.shouldStickWithLimit(s.stickLimit)||u){if(!i&&u){var a,f,d;f=[m,h],d=e.getClosest(f,o),d===m?a="top":d===h&&(a="bottom"),e.unStickElement(a,o)}}else e.stickElement()},e.unStickElement=function(t){o.attr("style",p),u=!1,r&&f.removeClass(r),i&&o.removeClass(i),c&&o.addClass(c),"top"===t?o.css("z-index",d.zIndex).css("width","").css("top",d.top).css("position",d.position).css("left",d.cssLeft).css("margin-top",d.marginTop):"bottom"===t&&y===!0&&o.css("z-index",d.zIndex).css("width","").css("top","").css("bottom",0).css("position","absolute").css("left",d.cssLeft).css("margin-top",d.marginTop).css("margin-bottom",d.marginBottom),b&&b.remove()},e.$watch(function(){return e.disabled===!0?void e.unStickElement():u?v+e.getScrollTop():(v="top"===k?e.getTopOffset(a):e.getBottomOffset(a),v+e.getScrollTop())},function(t,s){if((t!==s||"undefined"==typeof m)&&0!==t&&!u){m=t-g,y&&o.parent().css({position:"relative"});var n=o.parent()[0],i=parseInt(n.offsetHeight),c=parseInt(o.css("margin-bottom").replace(/px;?/,""))||0;h=n.offsetTop+i-(a.offsetTop+a.offsetHeight)+g+c,e.checkIfShouldStick()}}),e.initSticky()}}}]),window.matchMedia=window.matchMedia||function(){var t="angular-sticky: This browser does not support matchMedia, therefore the minWidth option will not work on this browser. Polyfill matchMedia to fix this issue.";return window.console&&console.warn&&console.warn(t),function(){return{matches:!0}}}()}();